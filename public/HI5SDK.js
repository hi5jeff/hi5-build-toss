/*! For license information please see HI5SDK.js.LICENSE.txt */
(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var e=function(t){window.addLogView&&window.addLogView(t),console.log("%cHi5: %c".concat(JSON.stringify(t)),"color: black;background:yellow;","color: white;background:black;")},n=function(t,e){return window.localStorage.setItem(t,e),e};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}var s=function(t,e){window.postMessage({PlatFormEventAction:t,data:e},"*")},i="showRank",c="submitScore",u="showAd",d="loadAd",f="ProductItemList",h="purchaseProduct",m="shareMessage",l="shareAppLink",p="inviteRewards";const g="INIT_SDK",v="LOAD_END",b="GAME_START",w="GAME_END",y="SHOW_HELP",A="SAVE_DATA",T="SHOW_MAIN_MENU",S="GET_RANK",I="GAME_DATA",k="RANK_DATA",_="DATA_SET_ITEM",E="ITEM_LIST",O="BUY_ITEM",M="LOAD_AD",P="SHOW_AD",D="SUBMIT_SCORE",R="SHOW_RANK",G="VIBRATION",L="SET_Orientation",C="SHARE_TEXT",N="SHARE_APP_LINK",x="INVITE_FRIEND_REWARDS";const U={onPostMessage:function(t){var n=window.HI5CORE;if(t.data&&t.data.PlatFormEventAction)switch(e(t.data.data),t.data.PlatFormEventAction){case i:n.SendToGame({fromhi5action:R,data:t.data.data});break;case c:n.SendToGame({fromhi5action:D,data:t.data.data});break;case u:if(0===t.data.data.status){var r=t.data.data.event.type;n.SendToGame({fromhi5action:P,data:{status:0,type:r,msg:"",addata:t.data.data.event}})}else n.SendToGame({fromhi5action:P,data:{status:1,type:"",msg:t.data.data.msg,addata:{}}});break;case d:n.SendToGame({fromhi5action:M,data:t.data.data});break;case c:n.SendToGame({fromhi5action:D,data:t.data.data});break;case f:n.SendToGame({fromhi5action:E,data:t.data.data});break;case h:n.SendToGame({fromhi5action:O,data:t.data.data});break;case m:n.SendToGame({fromhi5action:C,data:t.data.data});break;case l:n.SendToGame({fromhi5action:N,data:t.data.data});break;case p:n.SendToGame({fromhi5action:x,data:t.data.data})}}},j={safeAdd:function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},bitRotateLeft:function(t,e){return t<<e|t>>>32-e},md5cmn:function(t,e,n,r,a,o){return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(e,t),this.safeAdd(r,o)),a),n)},md5ff:function(t,e,n,r,a,o,s){return this.md5cmn(e&n|~e&r,t,e,a,o,s)},md5gg:function(t,e,n,r,a,o,s){return this.md5cmn(e&r|n&~r,t,e,a,o,s)},md5hh:function(t,e,n,r,a,o,s){return this.md5cmn(e^n^r,t,e,a,o,s)},md5ii:function(t,e,n,r,a,o,s){return this.md5cmn(n^(e|~r),t,e,a,o,s)},binlMD5:function(t,e){var n,r,a,o,s;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var i=1732584193,c=-271733879,u=-1732584194,d=271733878;for(n=0;n<t.length;n+=16)r=i,a=c,o=u,s=d,i=this.md5ff(i,c,u,d,t[n],7,-680876936),d=this.md5ff(d,i,c,u,t[n+1],12,-389564586),u=this.md5ff(u,d,i,c,t[n+2],17,606105819),c=this.md5ff(c,u,d,i,t[n+3],22,-1044525330),i=this.md5ff(i,c,u,d,t[n+4],7,-176418897),d=this.md5ff(d,i,c,u,t[n+5],12,1200080426),u=this.md5ff(u,d,i,c,t[n+6],17,-1473231341),c=this.md5ff(c,u,d,i,t[n+7],22,-45705983),i=this.md5ff(i,c,u,d,t[n+8],7,1770035416),d=this.md5ff(d,i,c,u,t[n+9],12,-1958414417),u=this.md5ff(u,d,i,c,t[n+10],17,-42063),c=this.md5ff(c,u,d,i,t[n+11],22,-1990404162),i=this.md5ff(i,c,u,d,t[n+12],7,1804603682),d=this.md5ff(d,i,c,u,t[n+13],12,-40341101),u=this.md5ff(u,d,i,c,t[n+14],17,-1502002290),c=this.md5ff(c,u,d,i,t[n+15],22,1236535329),i=this.md5gg(i,c,u,d,t[n+1],5,-165796510),d=this.md5gg(d,i,c,u,t[n+6],9,-1069501632),u=this.md5gg(u,d,i,c,t[n+11],14,643717713),c=this.md5gg(c,u,d,i,t[n],20,-373897302),i=this.md5gg(i,c,u,d,t[n+5],5,-701558691),d=this.md5gg(d,i,c,u,t[n+10],9,38016083),u=this.md5gg(u,d,i,c,t[n+15],14,-660478335),c=this.md5gg(c,u,d,i,t[n+4],20,-405537848),i=this.md5gg(i,c,u,d,t[n+9],5,568446438),d=this.md5gg(d,i,c,u,t[n+14],9,-1019803690),u=this.md5gg(u,d,i,c,t[n+3],14,-187363961),c=this.md5gg(c,u,d,i,t[n+8],20,1163531501),i=this.md5gg(i,c,u,d,t[n+13],5,-1444681467),d=this.md5gg(d,i,c,u,t[n+2],9,-51403784),u=this.md5gg(u,d,i,c,t[n+7],14,1735328473),c=this.md5gg(c,u,d,i,t[n+12],20,-1926607734),i=this.md5hh(i,c,u,d,t[n+5],4,-378558),d=this.md5hh(d,i,c,u,t[n+8],11,-2022574463),u=this.md5hh(u,d,i,c,t[n+11],16,1839030562),c=this.md5hh(c,u,d,i,t[n+14],23,-35309556),i=this.md5hh(i,c,u,d,t[n+1],4,-1530992060),d=this.md5hh(d,i,c,u,t[n+4],11,1272893353),u=this.md5hh(u,d,i,c,t[n+7],16,-155497632),c=this.md5hh(c,u,d,i,t[n+10],23,-1094730640),i=this.md5hh(i,c,u,d,t[n+13],4,681279174),d=this.md5hh(d,i,c,u,t[n],11,-358537222),u=this.md5hh(u,d,i,c,t[n+3],16,-722521979),c=this.md5hh(c,u,d,i,t[n+6],23,76029189),i=this.md5hh(i,c,u,d,t[n+9],4,-640364487),d=this.md5hh(d,i,c,u,t[n+12],11,-421815835),u=this.md5hh(u,d,i,c,t[n+15],16,530742520),c=this.md5hh(c,u,d,i,t[n+2],23,-995338651),i=this.md5ii(i,c,u,d,t[n],6,-198630844),d=this.md5ii(d,i,c,u,t[n+7],10,1126891415),u=this.md5ii(u,d,i,c,t[n+14],15,-1416354905),c=this.md5ii(c,u,d,i,t[n+5],21,-57434055),i=this.md5ii(i,c,u,d,t[n+12],6,1700485571),d=this.md5ii(d,i,c,u,t[n+3],10,-1894986606),u=this.md5ii(u,d,i,c,t[n+10],15,-1051523),c=this.md5ii(c,u,d,i,t[n+1],21,-2054922799),i=this.md5ii(i,c,u,d,t[n+8],6,1873313359),d=this.md5ii(d,i,c,u,t[n+15],10,-30611744),u=this.md5ii(u,d,i,c,t[n+6],15,-1560198380),c=this.md5ii(c,u,d,i,t[n+13],21,1309151649),i=this.md5ii(i,c,u,d,t[n+4],6,-145523070),d=this.md5ii(d,i,c,u,t[n+11],10,-1120210379),u=this.md5ii(u,d,i,c,t[n+2],15,718787259),c=this.md5ii(c,u,d,i,t[n+9],21,-343485551),i=this.safeAdd(i,r),c=this.safeAdd(c,a),u=this.safeAdd(u,o),d=this.safeAdd(d,s);return[i,c,u,d]},binl2rstr:function(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n},rstr2binl:function(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n},rstrMD5:function(t){return this.binl2rstr(this.binlMD5(this.rstr2binl(t),8*t.length))},rstrHMACMD5:function(t,e){var n,r,a=this.rstr2binl(t),o=[],s=[];for(o[15]=s[15]=void 0,a.length>16&&(a=this.binlMD5(a,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^a[n],s[n]=1549556828^a[n];return r=this.binlMD5(o.concat(this.rstr2binl(e)),512+8*e.length),this.binl2rstr(this.binlMD5(s.concat(r),640))},rstr2hex:function(t){var e,n,r="0123456789abcdef",a="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),a+=r.charAt(e>>>4&15)+r.charAt(15&e);return a},str2rstrUTF8:function(t){return unescape(encodeURIComponent(t))},rawMD5:function(t){return this.rstrMD5(this.str2rstrUTF8(t))},hexMD5:function(t){return this.rstr2hex(this.rawMD5(t))},rawHMACMD5:function(t,e){return this.rstrHMACMD5(this.str2rstrUTF8(t),this.str2rstrUTF8(e))},hexHMACMD5:function(t,e){return this.rstr2hex(this.rawHMACMD5(t,e))},md5:function(t,e,n){return e?n?this.rawHMACMD5(e,t):this.hexHMACMD5(e,t):n?this.rawMD5(t):this.hexMD5(t)}},F=function(t,e){window.postMessage({NetworkAction:t,data:e},"*")},H={request_pool:[],getPostData:function(t,e){var n=window.HI5CORE;e.device_type=n.device_type,e.app_type=n.app_type,e.st=n.st,e._ssid=n._ssid||"";var r={gameId:"",action:t,token:"",lang:"",timestamp:(new Date).getTime(),data:JSON.stringify(e),sign:""};r.gameId=n.Game.gameId,r.action=t,r.token=n.User.token||"",r.lang="";var a="gameId="+r.gameId+"&action="+r.action+"&data="+r.data+"&timestamp="+r.timestamp+"wbCgrdxrCrgAgeikLpboaki4R2zz9aaa";return r.sign=j.hexMD5(a).toUpperCase(),r},request_timer_proc:function(){var t=this,e=this;setInterval(function(){if(!(e.request_pool.length<1)){var n=e.request_pool.shift();t.do_request(n.apiname,n.data,n.urlparams)}},100)},request:function(t,e){var n={apiname:t,data:e,urlparams:arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0};this.request_pool.push(n)},do_request:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=window.HI5CORE,a=this.getPostData(t,e),o=r.apiurl;n&&(o=o+"?"+n);var s=new XMLHttpRequest;s.open("POST",o,!0),s.setRequestHeader("Content-type","application/json"),s.send(JSON.stringify(a)),s.onload=function(){if(200===s.status){var t=JSON.parse(s.responseText);if(r.st=t.st,200==t.status&&t.data)for(var e in t.data)F("Return_"+e,t.data[e]);else 3002==t.status?(console.error(t),alert("네트워크 통신 실패 3002.")):999==t.status?(console.error(t),alert("네트워크 통신 실패 999.")):(console.error(t),alert("네트워크 통신 실패 ."))}else console.error(s.status,s.statusText)}}},q=function(){H.request_timer_proc()},B=function(){H.request("InitAppData",{uuid:window.HI5CORE.UUID})},V=function(t){H.request("Login_Token",{_token:t})},z=function(t){H.request("Game_SaveData",{gamedata:t})},$=function(t){H.request("Game_LoadData",{gamedata:t})},W=function(t,e){H.request("Game_SetItem",{item_key:t,item_value:e})},J=function(t){H.request("Login_Toss",{accessToken:t})},K=function(t){var n=window.HI5CORE;if(t.data&&t.data.tohi5action){e(t.data);var r=t.data.data;switch(t.data.tohi5action){case g:n.User.GameData=r;break;case v:$(JSON.stringify(n.User.GameData));break;case _:n.User.GameData[r.key]=r.value,W(r.key,JSON.stringify(r.value));break;case R:n.PLATFORM.showRank();break;case E:n.PLATFORM.getProductItemList();break;case O:n.PLATFORM.purchaseProduct(r.productId);break;case M:n.PLATFORM.loadAd(r.adGroupId);break;case P:n.PLATFORM.showAd(r.adGroupId);break;case D:n.PLATFORM.submitScore(r.score+"");break;case G:n.PLATFORM.Vibration();break;case L:n.PLATFORM.setDeviceOrientation(r.type);break;case C:n.PLATFORM.shareText(r.message);break;case N:n.PLATFORM.shareAppLink(r.appname,r.uri);break;case x:n.PLATFORM.inviteRewards(r.id);break;case T:e("SHOW_MAIN_MENU");break;case A:n.User.GameData=r,z(JSON.stringify(n.User.GameData));break;case y:e("SHOW_HELP");break;case b:e("GAME_START");break;case w:e("GAME_END");break;case S:e("GET_RANK")}}},X=function(t){window.HI5CORE.SendToGame({fromhi5action:I,data:t})},Y=function(t){window.HI5CORE.SendToGame({fromhi5action:k,data:t})},Q="Return_InitAppData",Z="Return_UserInfo",tt="Return_LoginEnd",et="Return_LoginFaild",nt="Return_GameDataSaveEnd",rt="Return_GameDataLoadEnd",at="Return_GameSetItemEnd",ot="Return_RankData",st=function(t){var e=window.HI5CORE;if(t.data&&t.data.NetworkAction)switch(t.data.NetworkAction){case Q:e.net_InitAppData(t.data.data);break;case Z:e.net_UserInfo(t.data.data);break;case tt:e.net_LoginEnd(t.data.data);break;case et:e.net_LoginFaild(t.data.data);break;case nt:e.net_GameDataSaveEnd(t.data.data);break;case at:e.net_GameSetItemEnd(t.data.data);break;case rt:e.net_GameDataLoadEnd(t.data.data);break;case ot:e.net_RankData(t.data.data)}};var it="https://www.hi5games.net";const ct={onLoad:void 0,device_type:"",app_type:"pc",apiurl:it+"/api/v1",st:0,netWorkBusy:!1,UUID:"",Game:{gameId:"",gameTitle:"",gameUrl:"",gameType:"A_RANK",RandkingBGColor:"#FFF",RandkingBGImage:"None",RandkingLogo:"None",RandkingStart:"None",ControlPanelPos:"Top",ControlPanelButtons:"Settings,Sound,Ranking,Help,More",resetData:function(t){if(t){for(var e in t)this[e]=t[e];console.log(this)}}},User:new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isLogin=!1,this.token="",this.baseInfo={userId:0,userNick:"",userProfile:"",token:"",readmsgid:0,status:0,invite_count:0,refUserId:0,level:1,exp:0,vip:1,vipexp:1,monney:"0.00",footpoint:0,gamepoint:0},this.GameData={high_score:0,score:0,sound:"on"}},(e=[{key:"checkLocal",value:function(){var t=window.localStorage.getItem("token");t&&(this.token=t)}},{key:"updateBaseInfo",value:function(t){for(var e in t)this.baseInfo[e]=t[e];this.updateToken(t)}},{key:"getGameUserInfo",value:function(){return{userId:this.baseInfo.userId,userNick:this.baseInfo.userNick,userProfile:this.baseInfo.userProfile,readmsgid:this.baseInfo.readmsgid,level:this.baseInfo.level,exp:this.baseInfo.exp,vip:this.baseInfo.vip,vipexp:this.baseInfo.vipexp,monney:this.baseInfo.monney,footpoint:this.baseInfo.footpoint,gamepoint:this.baseInfo.gamepoint}}},{key:"updateToken",value:function(t){t.token&&(this.token=t.token,n("token",this.token),this.isLogin=!0)}},{key:"logout",value:function(){this.token="",this.isLogin=!1,n("token",""),window.location.reload()}}])&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()),AppSettings:{cdn_games:"/"},loadGame:function(){this.onLoad&&this.onLoad()},SendToGame:function(t){window.postMessage(t,"*")},gameFrame:null,RankData:null,TgApp:null,current_time:0,runtimePlatform:"web",runtimeOptions:{},PLATFORM:null,init:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.PLATFORM=t,this.Game.gameId=this.PLATFORM.gameId,this.runtimePlatform=this.PLATFORM._platform,this.runtimeOptions=n,e(this.runtimePlatform),q(),"toss"==this.runtimePlatform&&window.addEventListener("message",U.onPostMessage),window.addEventListener("message",K),window.addEventListener("message",st),B()},net_InitAppData:function(t){var n=this;e(t),this.Game.resetData(t.GameSettings),this.AppSettings=t.AppSettings,this._ssid=t.AppSettings._ssid,this.current_time=t.current_time,setInterval(function(){n.current_time++},1e3),this.net_Login()},net_UserInfo:function(t){this.User.updateBaseInfo(t),e(t)},net_LoginEnd:function(t){e(t),this.loadGame()},net_LoginFaild:function(t){window.alert("Login Faild."),this.User.logout()},net_GameDataSaveEnd:function(t){e("net_GameDataSaveEnd")},net_GameSetItemEnd:function(t){e("net_GameSetItemEnd")},net_GameDataLoadEnd:function(t){this.User.GameData=JSON.parse(t),X({user_data:this.User.getGameUserInfo(),game_data:this.User.GameData,platform_data:{platform:"toss",deviceid:this.PLATFORM.getDeviceId(),os:this.PLATFORM.getOS(),vibration:1,SafeArea:this.PLATFORM.getSafeArea(),iaa:1,iap:1},current_time:this.current_time}),setTimeout(function(){var t=document.getElementById("hi5intro");t&&(t.style.display="none")},200)},net_RankData:function(t){this.RankData=t,Y(this.RankData)},net_Login:function(){if("toss"==this.runtimePlatform)J(this.PLATFORM.AuthData.accessToken);else if("kakao"==this.runtimePlatform);else if("telegram"==this.runtimePlatform);else{var e=function(){var e=window.localStorage.getItem("query");e||(e=window.location.search.substring(1));var n,r=function(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,s=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw s}}}}(e.split("&"));try{for(r.s();!(n=r.n()).done;){var a=n.value,o=a.search("=");if("_tk"==a.substring(0,o))return a.substr(o+1)}}catch(t){r.e(t)}finally{r.f()}return null}();e?V(e):(this.User.checkLocal(),""!=(e=this.User.token)&&V(e))}}};var ut=new class{get _window(){return"undefined"!=typeof window?window:{ReactNativeWebView:{postMessage:()=>{}},__GRANITE_NATIVE_EMITTER:{on:()=>()=>{}},__CONSTANT_HANDLER_MAP:{}}}postMessage(t){const e=this._window.ReactNativeWebView;if(!e)throw new Error("ReactNativeWebView is not available in browser environment");e.postMessage(JSON.stringify(t))}on(t,e){const n=this._window.__GRANITE_NATIVE_EMITTER;if(!n)throw new Error("__GRANITE_NATIVE_EMITTER is not available");return n.on(t,e)}getConstant(t){const e=this._window.__CONSTANT_HANDLER_MAP;if(e&&t in e)return e[t];throw new Error(`${t} is not a constant handler`)}},dt=()=>Math.random().toString(36).substring(2,15),ft=t=>{if(t&&t.__isError){const e=new Error(t.message);for(const[n,r]of Object.entries(t))e[n]=r;return e}return t};function ht(t){return(...e)=>{const n=dt(),r=[],a=()=>{for(const t of r)t()};return new Promise((o,s)=>{r.push(ut.on(`${t}/resolve/${n}`,t=>{a(),o(t)})),r.push(ut.on(`${t}/reject/${n}`,t=>{a(),s(ft(t))})),ut.postMessage({type:"method",functionName:t,eventId:n,args:e})})}}function mt(t){return e=>{const n=dt(),r=[ut.on(`${t}/onEvent/${n}`,t=>{e.onEvent(t)}),ut.on(`${t}/onError/${n}`,t=>{e.onError(ft(t))})];return ut.postMessage({type:"addEventListener",functionName:t,eventId:n,args:e.options}),()=>{ut.postMessage({type:"removeEventListener",functionName:t,eventId:n}),r.forEach(t=>t())}}}function lt(t){return()=>ut.getConstant(t)}"undefined"!=typeof window&&(window.__GRANITE_NATIVE_EMITTER={emit:function(t,e){for(var n=this.events[t]||[],r=0,a=n.length;r<a;r++)n[r](e)},events:{},on:function(t,e){var n,r,a=this;return((n=this.events)[r=t]||(n[r]=[])).push(e),function(){var n;a.events[t]=null===(n=a.events[t])||void 0===n?void 0:n.filter(function(t){return e!==t})}}});var pt=ht("closeView"),gt=ht("generateHapticFeedback"),vt=ht("share"),bt=(ht("setSecureScreen"),ht("setScreenAwakeMode"),ht("getNetworkStatus"),ht("setIosSwipeGestureEnabled"),ht("openURL"),ht("openPermissionDialog"),ht("getPermission"),ht("requestPermission"),lt("setClipboardText"),lt("getClipboardText"),lt("fetchContacts"),lt("fetchAlbumPhotos"),lt("getCurrentLocation"),lt("openCamera"),ht("appLogin")),wt=(ht("eventLog"),ht("getTossShareLink")),yt=ht("setDeviceOrientation"),At=(ht("checkoutPayment"),ht("saveBase64Data"),ht("appsInTossSignTossCert"),ht("getGameCenterGameProfile"),ht("openGameCenterLeaderboard")),Tt=ht("submitGameCenterLeaderBoardScore"),St=(lt("getLocale"),lt("getSchemeUri")),It=lt("getPlatformOS"),kt=lt("getOperationalEnvironment"),_t=lt("getTossAppVersion"),Et=lt("getDeviceId"),Ot=mt("contactsViral"),Mt=(mt("startUpdateLocation"),mt("onVisibilityChangedByTransparentServiceWeb"),class extends Error{constructor({methodName:t,message:e}){super(),this.name=`${t} permission error`,this.message=e}}),Pt=class extends Mt{constructor(){super({methodName:"getCurrentLocation",message:"위치 권한이 거부되었어요."})}},Dt=Pt,Rt=(ht("getStorageItem"),ht("setStorageItem"),ht("removeStorageItem"),ht("clearItems"),/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\\-]+(?:\.[\da-z\\-]+)*))?(?:\+[\da-z\\-]+(?:\.[\da-z\\-]+)*)?)?)?$/i),Gt=t=>["*","x","X"].includes(t),Lt=t=>{const e=parseInt(t,10);return isNaN(e)?t:e},Ct=(t,e)=>{if(Gt(t)||Gt(e))return 0;const[n,r]=((t,e)=>typeof t==typeof e?[t,e]:[String(t),String(e)])(Lt(t),Lt(e));return n>r?1:n<r?-1:0},Nt=t=>{if("string"!=typeof t)throw new TypeError("Invalid argument: expected a string");const e=t.match(Rt);if(!e)throw new Error(`Invalid semver: '${t}'`);const[,n,r,a,o,s]=e;return[n,r,a,o,s]},xt=(t,e)=>{const n=Math.max(t.length,e.length);for(let r=0;r<n;r++){const n=t[r]??"0",a=e[r]??"0",o=Ct(n,a);if(0!==o)return o}return 0};function Ut(t){if("sandbox"===lt("getOperationalEnvironment")())return!0;const e=lt("getTossAppVersion")(),n="ios"===lt("getPlatformOS")()?t.ios:t.android;return void 0!==n&&("always"===n||"never"!==n&&((t,e)=>{const n=Nt(t),r=Nt(e),a=n.pop(),o=r.pop(),s=xt(n,r);return 0!==s?s:a&&o?xt(a.split("."),o.split(".")):a?-1:o?1:0})(e,n)>=0)}var jt={createOneTimePurchaseOrder:t=>{const e=Ut({android:"5.219.0",ios:"5.219.0"}),n=()=>{};if(!e)return n;const r=Ut({android:"5.231.1",ios:"5.230.0"}),{options:a,onEvent:o,onError:s}=t,i=a.sku??a.productId;if(!r)return ht("iapCreateOneTimePurchaseOrder")({productId:i}).then(t=>{Promise.resolve(a.processProductGrant({orderId:t.orderId})).then(()=>{o({type:"success",data:t})}).catch(t=>{s(t)})}).catch(t=>{s(t)}),n;const c=mt("requestOneTimePurchase")({options:{sku:i},onEvent:async t=>{if("purchased"===t.type){const e=await a.processProductGrant({orderId:t.data.orderId});await function(t){return ht("processProductGrant")(t)}({orderId:t.data.orderId,isProductGranted:e}).catch(s)}else o(t)},onError:t=>{s(t)}});return c},getProductItemList:ht("iapGetProductItemList"),getPendingOrders:ht("getPendingOrders"),getCompletedOrRefundedOrders:ht("getCompletedOrRefundedOrders"),completeProductGrant:ht("completeProductGrant")},Ft=lt("getSafeAreaBottom"),Ht=lt("getSafeAreaTop"),qt={loadAdMobInterstitialAd:Object.assign(mt("loadAdMobInterstitialAd"),{isSupported:lt("loadAdMobInterstitialAd_isSupported")}),showAdMobInterstitialAd:Object.assign(mt("showAdMobInterstitialAd"),{isSupported:lt("showAdMobInterstitialAd_isSupported")}),loadAdMobRewardedAd:Object.assign(mt("loadAdMobRewardedAd"),{isSupported:lt("loadAdMobRewardedAd_isSupported")}),showAdMobRewardedAd:Object.assign(mt("showAdMobRewardedAd"),{isSupported:lt("showAdMobRewardedAd_isSupported")}),loadAppsInTossAdMob:Object.assign(mt("loadAppsInTossAdMob"),{isSupported:lt("loadAppsInTossAdMob_isSupported")}),showAppsInTossAdMob:Object.assign(mt("showAppsInTossAdMob"),{isSupported:lt("showAppsInTossAdMob_isSupported")})},Bt=(lt("getDeploymentId"),lt("deploymentId"),lt("brandDisplayName"),lt("brandIcon"),lt("brandPrimaryColor"),lt("brandBridgeColorMode"),ht("addAccessoryButton"),ht("removeAccessoryButton"),ht("requestPermission")),Vt=ht("getPermission"),zt=ht("openPermissionDialog");function $t({permission:t,handler:e,error:n}){const r=async(...r)=>{if("denied"===await Bt(t))throw new n;return e(...r)};return r.getPermission=()=>Vt(t),r.openPermissionDialog=()=>zt(t),r}$t({handler:t=>ht("fetchAlbumPhotos")(t),permission:{name:"photos",access:"read"},error:class extends Mt{constructor(){super({methodName:"fetchAlbumPhotos",message:"사진첩 권한이 거부되었어요."})}}}),$t({handler:t=>ht("fetchContacts")(t),permission:{name:"contacts",access:"read"},error:class extends Mt{constructor(){super({methodName:"fetchContacts",message:"연락처 권한이 거부되었어요."})}}}),$t({handler:t=>ht("getCurrentLocation")(t),permission:{name:"geolocation",access:"access"},error:Pt}),$t({handler:t=>ht("openCamera")(t),permission:{name:"camera",access:"access"},error:class extends Mt{constructor(){super({methodName:"openCamera",message:"카메라 권한이 거부되었어요."})}}}),$t({handler:t=>ht("setClipboardText")(t),permission:{name:"clipboard",access:"write"},error:class extends Mt{constructor(){super({methodName:"setClipboardText",message:"클립보드 쓰기 권한이 거부되었어요."})}}}),$t({handler:()=>ht("getClipboardText")(),permission:{name:"clipboard",access:"read"},error:class extends Mt{constructor(){super({methodName:"getClipboardText",message:"클립보드 읽기 권한이 거부되었어요."})}}});var Wt=ht("getPermission"),Jt=ht("openPermissionDialog"),Kt=t=>mt("updateLocationEvent")({...t,onError:e=>{const n=new Dt;return e instanceof Error&&e.name===n.name?t.onError(n):t.onError(e)}});Kt.getPermission=()=>Wt({name:"geolocation",access:"access"}),Kt.openPermissionDialog=()=>Jt({name:"geolocation",access:"access"});var Xt=function(t){var e=document.getElementById("retView");e&&(e.value+=JSON.stringify(t),e.value+="\n")};function Yt(t){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(t)}function Qt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof i?r:i,u=Object.create(c.prototype);return Zt(u,"_invoke",function(n,r,a){var o,i,c,u=0,d=a||[],f=!1,h={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return o=e,i=0,c=t,h.n=n,s}};function m(n,r){for(i=n,c=r,e=0;!f&&u&&!a&&e<d.length;e++){var a,o=d[e],m=h.p,l=o[2];n>3?(a=l===r)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=m&&((a=n<2&&m<o[1])?(i=0,h.v=r,h.n=o[1]):m<l&&(a=n<3||o[0]>r||r>l)&&(o[4]=n,o[5]=r,h.n=l,i=0))}if(a||n>1)return s;throw f=!0,r}return function(a,d,l){if(u>1)throw TypeError("Generator is already running");for(f&&1===d&&m(d,l),i=d,c=l;(e=i<2?t:c)||!f;){o||(i?i<3?(i>1&&(h.n=-1),m(i,c)):h.n=c:h.v=c);try{if(u=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=h.n<0)?c:n.call(r,h))!==s)break}catch(e){o=t,i=1,c=e}finally{u=1}}return{value:e,done:f}}}(n,a,o),!0),u}var s={};function i(){}function c(){}function u(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(Zt(e={},r,function(){return this}),e),f=u.prototype=i.prototype=Object.create(d);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,Zt(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=u,Zt(f,"constructor",u),Zt(u,"constructor",c),c.displayName="GeneratorFunction",Zt(u,a,"GeneratorFunction"),Zt(f),Zt(f,a,"Generator"),Zt(f,r,function(){return this}),Zt(f,"toString",function(){return"[object Generator]"}),(Qt=function(){return{w:o,m:h}})()}function Zt(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}Zt=function(t,e,n,r){function o(e,n){Zt(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Zt(t,e,n,r)}function te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach(function(e){ne(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ne(t,e,n){return(e=function(t){var e=function(t){if("object"!=Yt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Yt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function re(t,e,n,r,a,o,s){try{var i=t[o](s),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,a)}var ae=function(){var t,e=(t=Qt().m(function t(e,n,r){var a;return Qt().w(function(t){for(;;)switch(t.n){case 0:return Xt("".concat(it).concat(e)),t.n=1,fetch("".concat(it).concat(e),{method:"POST",headers:ee({"Content-Type":"application/json"},r?{Authorization:"Bearer ".concat(r)}:{}),body:JSON.stringify(n)});case 1:return a=t.v,t.a(2,a.json())}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function s(t){re(o,r,a,s,i,"next",t)}function i(t){re(o,r,a,s,i,"throw",t)}s(void 0)})});return function(t,n,r){return e.apply(this,arguments)}}();const oe={hi5alertbox:null,hi5alertcontent:null,hi5alertboxbt:null,callback:null,init:function(){var t=this;this.hi5alertbox=document.getElementById("hi5alertbox"),this.hi5alertbox&&(this.hi5alertcontent=document.getElementById("hi5alertcontent"),this.hi5alertboxbt=document.getElementById("hi5alertboxbt"),this.hi5alertboxbt.onclick=function(){t.closeAlert()})},showMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.hi5alertbox&&(this.callback=e,this.hi5alertcontent.innerText=t,this.hi5alertbox.style.display="flex")},closeAlert:function(){this.hi5alertbox.style.display="none",this.callback&&this.callback()}};function se(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof i?r:i,u=Object.create(c.prototype);return ie(u,"_invoke",function(n,r,a){var o,i,c,u=0,d=a||[],f=!1,h={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return o=e,i=0,c=t,h.n=n,s}};function m(n,r){for(i=n,c=r,e=0;!f&&u&&!a&&e<d.length;e++){var a,o=d[e],m=h.p,l=o[2];n>3?(a=l===r)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=m&&((a=n<2&&m<o[1])?(i=0,h.v=r,h.n=o[1]):m<l&&(a=n<3||o[0]>r||r>l)&&(o[4]=n,o[5]=r,h.n=l,i=0))}if(a||n>1)return s;throw f=!0,r}return function(a,d,l){if(u>1)throw TypeError("Generator is already running");for(f&&1===d&&m(d,l),i=d,c=l;(e=i<2?t:c)||!f;){o||(i?i<3?(i>1&&(h.n=-1),m(i,c)):h.n=c:h.v=c);try{if(u=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(f=h.n<0)?c:n.call(r,h))!==s)break}catch(e){o=t,i=1,c=e}finally{u=1}}return{value:e,done:f}}}(n,a,o),!0),u}var s={};function i(){}function c(){}function u(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(ie(e={},r,function(){return this}),e),f=u.prototype=i.prototype=Object.create(d);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,ie(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=u,ie(f,"constructor",u),ie(u,"constructor",c),c.displayName="GeneratorFunction",ie(u,a,"GeneratorFunction"),ie(f),ie(f,a,"Generator"),ie(f,r,function(){return this}),ie(f,"toString",function(){return"[object Generator]"}),(se=function(){return{w:o,m:h}})()}function ie(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}ie=function(t,e,n,r){function o(e,n){ie(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},ie(t,e,n,r)}function ce(t,e,n,r,a,o,s){try{var i=t[o](s),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,a)}function ue(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function s(t){ce(o,r,a,s,i,"next",t)}function i(t){ce(o,r,a,s,i,"throw",t)}s(void 0)})}}const de={_platform:"toss",gameId:"",AuthData:{authorizationCode:"",referrer:"",accessToken:"",refreshToken:""},UserData:{userKey:"",name:"",agreedTerms:[]},init:function(t){var e=this;return ue(se().m(function n(){var r,a;return se().w(function(n){for(;;)switch(n.n){case 0:return e.gameId=t,oe.init(),n.n=1,e.tossAuth();case 1:if(null!=(r=n.v)){n.n=2;break}return oe.showMessage("게임에 참여하려면 토스 로그인에 동의해야해요.",function(){pt()}),n.a(2,!1);case 2:return n.n=3,e.getAccessToken(r.authorizationCode,r.referrer);case 3:if(null!=(a=n.v)&&"SUCCESS"==a.resultType){n.n=4;break}return n.a(2,!1);case 4:return setTimeout(function(){window.HI5CORE.init(e,{})},100),n.a(2,!0)}},n)}))()},tossAuth:function(){var t=this;return ue(se().m(function e(){var n,r,a;return se().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,bt();case 1:return n=e.v,r=n.authorizationCode,a=n.referrer,t.AuthData.authorizationCode=r,t.AuthData.referrer=a,e.a(2,{authorizationCode:r,referrer:a});case 2:e.p=2,e.v;case 3:return e.p=3,e.f(3);case 4:return e.a(2,null)}},e,null,[[0,2,3,4]])}))()},getAccessToken:function(t,e){var n=this;return ue(se().m(function r(){var a;return se().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,ae("/toss/getAccessToken",{authorizationCode:t,referrer:e,mtlsName:n.gameId});case 1:if((a=r.v)&&"SUCCESS"==a.resultType){r.n=2;break}return oe.showMessage("네트워크 연결을 확인하고 다시 시도해 주세요.[AccessToken]"),r.a(2,null);case 2:return n.AuthData.accessToken=a.success.accessToken,n.AuthData.refreshToken=a.success.refreshToken,r.a(2,a);case 3:r.p=3,r.v,oe.showMessage("네트워크 연결을 확인하고 다시 시도해 주세요.[AccessToken]");case 4:return r.p=4,r.f(4);case 5:return r.a(2,null)}},r,null,[[0,3,4,5]])}))()},refreshAccessToken:function(t){var e=this;return ue(se().m(function n(){var r;return se().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,ae("/toss/refreshAccessToken",{refreshToken:t,mtlsName:e.gameId});case 1:if((r=n.v)&&"SUCCESS"==r.resultType){n.n=2;break}return oe.showMessage("네트워크 연결을 확인하고 다시 시도해 주세요.[refreshAccessToken]"),n.a(2,null);case 2:return e.AuthData.accessToken=r.success.accessToken,e.AuthData.refreshToken=r.success.refreshToken,n.a(2,r);case 3:n.p=3,n.v,oe.showMessage("네트워크 연결을 확인하고 다시 시도해 주세요.[refreshAccessToken]");case 4:return n.p=4,n.f(4);case 5:return n.a(2,null)}},n,null,[[0,3,4,5]])}))()},getUserInfo:function(t){var e=this;return ue(se().m(function n(){var r;return se().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,ae("/toss/userInfo",{accessToken:t,mtlsName:e.gameId});case 1:if((r=n.v)&&"SUCCESS"==r.resultType){n.n=2;break}return oe.showMessage("네트워크 연결을 확인하고 다시 시도해 주세요.[UserInfo]"),n.a(2,null);case 2:return e.UserData.userKey=r.success.userKey,e.UserData.name=r.success.name,e.UserData.agreedTerms=r.success.agreedTerms,n.a(2,r);case 3:n.p=3,n.v,oe.showMessage("네트워크 연결을 확인하고 다시 시도해 주세요.[UserInfo]");case 4:return n.p=4,n.f(4);case 5:return n.a(2,null)}},n,null,[[0,3,4,5]])}))()},getOrderStatus:function(t){var e=this;return ue(se().m(function n(){var r;return se().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,ae("/toss/getOrderStatus",{orderId:t,mtlsName:e.gameId});case 1:return r=n.v,n.a(2,r);case 2:n.p=2,n.v,oe.showMessage("getOrderStatus을 가져오는 중 문제가 발생했어요.");case 3:return n.p=3,n.f(3);case 4:return n.a(2,null)}},n,null,[[0,2,3,4]])}))()},getProductItemList:function(){return ue(se().m(function t(){var e,n;return se().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,jt.getProductItemList();case 1:return e=t.v,s(f,{status:0,products:e.products,msg:""}),t.a(2,e);case 2:t.p=2,n=t.v,s(f,{status:1,products:[],msg:"상품 목록을 가져오는 데 실패했어요."}),oe.showMessage("상품 목록을 가져오는 데 실패했어요."),Xt(n);case 3:return t.p=3,t.f(3);case 4:return t.a(2,null)}},t,null,[[0,2,3,4]])}))()},purchaseProduct:function(t){return ue(se().m(function e(){return se().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,jt.createOneTimePurchaseOrder({options:{productId:t,processProductGrant:function(t){return t.orderId,!0}},onEvent:function(t){Xt(t),s(h,{status:0,event:t,msg:""})},onError:function(t){Xt(t),s(h,{status:1,event:"",msg:"구매 실패"})}});case 1:return e.a(2,!0);case 2:e.p=2,e.v,s(h,{status:1,event:"",msg:"구매 호출 에러"}),oe.showMessage("구매 호출시 예외가 발생했습니다.");case 3:return e.p=3,e.f(3);case 4:return e.a(2,!1)}},e,null,[[0,2,3,4]])}))()},loadAd:function(t){var e,n;return!1===(null===(e=(n=qt.loadAppsInTossAdMob).isSupported)||void 0===e?void 0:e.call(n))?(Xt("광고가 준비되지 않았거나, 지원되지 않아요."),s(d,{status:1,event:"",msg:"광고가 준비되지 않았거나, 지원되지 않아요."}),!1):(qt.loadAppsInTossAdMob({options:{adGroupId:t},onEvent:function(t){"loaded"===t.type&&s(d,{status:0,event:t,msg:""})},onError:function(t){s(d,{status:1,event:"",msg:"광고 로드 실패"})}}),!0)},showAd:function(t){var e,n;return!1===(null===(e=(n=qt.showAppsInTossAdMob).isSupported)||void 0===e?void 0:e.call(n))?(Xt("광고가 준비되지 않았거나, 지원되지 않아요."),s(u,{status:1,event:"",msg:"광고가 준비되지 않았거나, 지원되지 않아요."}),!1):(qt.showAppsInTossAdMob({options:{adGroupId:t},onEvent:function(t){switch(s(u,{status:0,event:t,msg:""}),t.type){case"requested":Xt("광고 보여주기 요청 완료");break;case"clicked":Xt("사용자가 광고를 클릭했어요.");break;case"dismissed":Xt("광고 닫힘");break;case"failedToShow":Xt("광고를 보여주지 못했어요.");break;case"impression":Xt("광고가 화면에 노출됐어요.");break;case"show":Xt("광고 컨텐츠 보여졌음.")}},onError:function(t){s(u,{status:1,event:"",msg:"광고 보여주기 실패"}),oe.showMessage("광고 보여주기 실패")}}),!0)},submitScore:function(t){return ue(se().m(function e(){var n;return se().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Tt({score:t});case 1:if(n=e.v){e.n=2;break}return s(c,{status:1,msg:"지원하지 않는 앱 버전이에요."}),e.a(2);case 2:"SUCCESS"===n.statusCode?s(c,{status:0,msg:""}):s(c,{status:1,msg:"점수 제출 실패:"+n.statusCode}),e.n=4;break;case 3:e.p=3,e.v,s(c,{status:1,msg:"점수 제출 중 오류가 발생했어요."}),oe.showMessage("점수 제출 중 오류가 발생했어요.");case 4:return e.a(2)}},e,null,[[0,3]])}))()},showRank:function(){return ue(se().m(function t(){return se().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,Ut({android:"5.221.0",ios:"5.221.0"})){t.n=1;break}return s(i,{status:1,msg:"리더보드 웹뷰 호출 지원하지 않는 앱 버전이에요."}),t.a(2);case 1:At(),s(i,{status:0,msg:""}),t.n=3;break;case 2:t.p=2,t.v,s(i,{status:1,msg:"리더보드 웹뷰 호출 중 오류가 발생했어요."}),oe.showMessage("리더보드 웹뷰 호출 중 오류가 발생했어요.");case 3:return t.a(2)}},t,null,[[0,2]])}))()},shareText:function(t){return ue(se().m(function e(){var n;return se().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,vt({message:t});case 1:s(m,{status:0,msg:""}),e.n=3;break;case 2:e.p=2,n=e.v,console.error(n),s(m,{status:1,msg:"링크를 공유하는 중 오류가 발생했어요. 다시 시도해 주세요."});case 3:return e.a(2)}},e,null,[[0,2]])}))()},shareAppLink:function(t){var e=arguments;return ue(se().m(function n(){var r,a,o,i;return se().w(function(n){for(;;)switch(n.p=n.n){case 0:return r=e.length>1&&void 0!==e[1]?e[1]:"",n.p=1,a="intoss://".concat(t).concat(r),n.n=2,wt(a);case 2:return o=n.v,n.n=3,vt({message:o});case 3:s(l,{status:0,msg:""}),n.n=5;break;case 4:n.p=4,i=n.v,console.error(i),s(l,{status:1,msg:"링크를 공유하는 중 오류가 발생했어요. 다시 시도해 주세요."});case 5:return n.a(2)}},n,null,[[1,4]])}))()},inviteRewards:function(t){return ue(se().m(function e(){var n,r;return se().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=Ot({options:{moduleId:t.trim()},onEvent:function(t){"sendViral"===t.type?(console.log("리워드 지급:",t.data.rewardAmount,t.data.rewardUnit),s(p,{status:0,reward:{amount:t.data.rewardAmount,unit:t.data.rewardUnit},msg:""})):"close"===t.type&&(console.log("모듈 종료:",t.data.closeReason),s(p,{status:1,reward:{},msg:"모듈 종료:"+t.data.closeReason}))},onError:function(t){console.error("에러 발생:",t),s(p,{status:1,reward:{},msg:"에러 발생"})}}),e.a(2,n);case 1:e.p=1,r=e.v,console.error("실행 중 에러:",r),s(p,{status:1,reward:{},msg:"실행 중 에러"}),oe.showMessage("실행 중 에러.");case 2:return e.a(2)}},e,null,[[0,1]])}))()},getOS:function(){return It()},getEnvironment:function(){return kt()},getTossSchemeUri:function(){return St()},getDeviceId:function(){return Et()},TossAppVersion:function(){try{return _t()}catch(t){}return""},Vibration:function(){gt({type:"softMedium"})},close:function(){pt()},setDeviceOrientation:function(){yt(""==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"portrait")?{type:"portrait"}:{type:"landscape"})},getSafeArea:function(){return{top:Ht(),bottom:Ft()}}};window.HI5CORE=ct,window.HI5TOSS=de})();